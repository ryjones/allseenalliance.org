<!DOCTYPE html>
<!--[if IEMobile 7]><html class="iem7" lang="en" dir="ltr"><![endif]-->
<!--[if lte IE 6]><html class="lt-ie9 lt-ie8 lt-ie7" lang="en" dir="ltr"><![endif]-->
<!--[if (IE 7)&(!IEMobile)]><html class="lt-ie9 lt-ie8" lang="en" dir="ltr"><![endif]-->
<!--[if IE 8]><html class="lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if (gte IE 9)|(gt IEMobile 7)]><!--><html lang="en" dir="ltr"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:dc="http://purl.org/dc/terms/"
  xmlns:foaf="http://xmlns.com/foaf/0.1/"
  xmlns:og="http://ogp.me/ns#"
  xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
  xmlns:sioc="http://rdfs.org/sioc/ns#"
  xmlns:sioct="http://rdfs.org/sioc/types#"
  xmlns:skos="http://www.w3.org/2004/02/skos/core#"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema#"><!--<![endif]-->
<head>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
<meta charset="utf-8" />
<link rel="shortlink" href="/node/4103" />
<link rel="shortcut icon" href="https://identity.allseenalliance.org/sites/all/themes/at_alljoyn/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="/developers/learn/core/system-description/data-exchange" />
<meta name="viewport" content="width=device-width" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta property="og:image" content="https://identity.allseenalliance.org/sites/all/themes/at_alljoyn/images/allseen-logo.png"/>
<meta name="google-translate-customization" content="48b015afeed82101-ecae534af0f48252-ga0b6470a6208b2f5-f"></meta>
<meta name="MobileOptimized" content="width">
<meta name="HandheldFriendly" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Data Exchange - AllSeen Alliance</title>
<link type="text/css" rel="stylesheet" href="https://identity.allseenalliance.org/sites/default/files/css/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" media="all" />
<link type="text/css" rel="stylesheet" href="https://identity.allseenalliance.org/sites/default/files/css/css_7Vcu6qIuRTO46aDOBZp7_mtksGdhCHSe0pjTO2YbGng.css" media="all" />
<link type="text/css" rel="stylesheet" href="https://identity.allseenalliance.org/sites/default/files/css/css_J2n1xiaSuececTK0yC3DT_Msm4PrkPwHizxr0oXGGoo.css" media="all" />
<link type="text/css" rel="stylesheet" href="https://identity.allseenalliance.org/sites/default/files/css/css_oxEtvjMfj8c8EEJJ-1WXLGGntCnC0UvrbYsq0Gw4m4Q.css" media="screen" />
<link type="text/css" rel="stylesheet" href="https://identity.allseenalliance.org/sites/default/files/css/css_9EusV9fcbkpqBeTGdJPl7ru65jm-3ngbTi_D6YRR_5A.css" media="only screen" />
<script src="https://identity.allseenalliance.org/sites/default/files/js/js_UWQINlriydSoeSiGQxToOUdv493zEa7dpsXC1OtYlZU.js"></script>
<script src="https://identity.allseenalliance.org/sites/default/files/js/js_COMsmDyrY9mzVU28X2uGvF4Ba3vd5eTo5xEO7dvCUZM.js"></script>
<script src="https://identity.allseenalliance.org/sites/default/files/js/js_i8oyg1R4On_HyzPiZ5zC3V-DxehjGAcpKwNao5s0s5I.js"></script>
<script>hljs.configure({languages:[]}); hljs.initHighlightingOnLoad();</script>
<script src="https://identity.allseenalliance.org/sites/default/files/js/js_aG0kZAhSHT6G3QC-d9Wwx9gQp5d0em8X6FmMYZ1e5h4.js"></script>
<script>var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})();</script>
<script src="https://identity.allseenalliance.org/sites/default/files/js/js_R35PAK16384fXh7f2OqvXVkbbrwr8ABLrDpR1zTluo0.js"></script>
<script src="https://identity.allseenalliance.org/sites/default/files/js/js_DKtRHJS-jz_cHgf23K7wnIWphCanZ_Rz74Aw-DKQyFs.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"at_alljoyn","theme_token":"S6WtVEl_O1wZmwXrOluN4mWmCgjpc2hrI9OaHtwMNgQ","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/contrib\/comment_notify\/comment_notify.js":1,"sites\/all\/modules\/alljoyn\/custom_modules\/allseen_docs\/allseen_docs_highlight\/highlightjs\/highlight.min.js":1,"0":1,"sites\/all\/libraries\/colorbox\/jquery.colorbox-min.js":1,"sites\/all\/modules\/contrib\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/contrib\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/contrib\/colorbox\/js\/colorbox_load.js":1,"sites\/all\/modules\/contrib\/colorbox\/js\/colorbox_inline.js":1,"sites\/all\/modules\/contrib\/panels\/js\/panels.js":1,"sites\/all\/modules\/contrib\/quote\/quote.js":1,"sites\/all\/modules\/contrib\/views_slideshow\/js\/views_slideshow.js":1,"sites\/all\/modules\/contrib\/google_analytics\/googleanalytics.js":1,"1":1,"sites\/all\/modules\/alljoyn\/custom_modules\/allseen_docs\/allseen_docs_nav\/allseen-docs-nav.js":1,"sites\/all\/themes\/at_alljoyn\/scripts\/alljoyn.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"sites\/all\/modules\/contrib\/comment_notify\/comment_notify.css":1,"sites\/all\/modules\/ldap\/ldap_user\/ldap_user.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/contrib\/date\/date_api\/date.css":1,"sites\/all\/modules\/contrib\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/contrib\/mollom\/mollom.css":1,"modules\/node\/node.css":1,"modules\/user\/user.css":1,"modules\/forum\/forum.css":1,"sites\/all\/modules\/contrib\/views\/css\/views.css":1,"sites\/all\/modules\/alljoyn\/custom_modules\/allseen_docs\/allseen_docs_highlight\/highlightjs\/default.min.css":1,"sites\/all\/modules\/contrib\/colorbox\/styles\/default\/colorbox_style.css":1,"sites\/all\/modules\/contrib\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/ldap\/ldap_servers\/ldap_servers.admin.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/contrib\/quote\/quote.css":1,"sites\/all\/modules\/contrib\/views_slideshow\/views_slideshow.css":1,"sites\/all\/modules\/alljoyn\/custom_modules\/allseen_docs\/allseen_docs_nav\/allseen-docs-nav.css":1,"sites\/all\/modules\/alljoyn\/features\/content_type_developer_document\/content-type-developer-document.css":1,"sites\/all\/themes\/adaptivetheme\/at_core\/css\/at.layout.css":1,"sites\/all\/themes\/at_alljoyn\/css\/fonts.css":1,"sites\/all\/themes\/at_alljoyn\/css\/globals.css":1,"sites\/all\/themes\/at_alljoyn\/css\/jcarousel-alljoyn.css":1,"public:\/\/adaptivetheme\/at_alljoyn_files_7dbe1ef5\/at_alljoyn.responsive.layout.css":1,"public:\/\/adaptivetheme\/at_alljoyn_files_7dbe1ef5\/at_alljoyn.responsive.styles.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px"},"jcarousel":{"ajaxPath":"\/jcarousel\/ajax\/views"},"quote_nest":2,"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip"}});</script>
<!--[if lt IE 9]>
<script src="https://identity.allseenalliance.org/sites/all/themes/adaptivetheme/at_core/scripts/respond.js?nwgww1"></script>
<script src="https://identity.allseenalliance.org/sites/all/themes/adaptivetheme/at_core/scripts/html5.js?nwgww1"></script>
<script src="https://identity.allseenalliance.org/sites/all/themes/adaptivetheme/at_core/scripts/PIE.htc?nwgww1"></script>
<script src="https://identity.allseenalliance.org/sites/all/themes/adaptivetheme/at_core/scripts/selectivizr.js?nwgww1"></script>
<![endif]-->
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-first page-node page-node- page-node-4103 node-type-developer-document site-name-hidden with-subnav page-developers-learn-core-system-description-data-exchange section-developers">
  <div id="body-top">
      </div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
  <div class="region region-page-top"><div class="region-inner clearfix"><div id="fb-root"></div><script type="text/javascript">
     window.fbAsyncInit = function() {
       FB.init({
         appId: "492099574180957",
         status: true,
         cookie: true,
         xfbml: true,
         oauth : true,
         channelUrl: "https:\/\/identity.allseenalliance.org\/service_links\/channel"
         });

         FB.Event.subscribe('edge.create', function(href, widget) {
    _gaq.push(['_trackEvent', 'facebook', 'Facebook like', href]);
   });FB.Event.subscribe('edge.remove', function(href, widget) {
    _gaq.push(['_trackEvent', 'facebook', 'Facebook unlike', href]);
   });
       };
       (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = '//connect.facebook.net/en_US/all.js';
     ref.parentNode.insertBefore(js, ref);
   }(document));
    </script></div></div>  
<div id="wrap">

  <div id="lfcollabprojects-header">
    <div class="gray-diagonal">
      <div class="header-inner">
        <a id="lfcollabprojects-logo" href="http://collabprojects.linuxfoundation.org">Linux Foundation Collaborative Projects</a>
      </div>
    </div>
  </div>

  <div id="page" class="container page">

    
    <header id="header" class="clearfix" role="banner">

      <div class="region region-header"><div class="region-inner clearfix"><div id="block-block-19" class="block block-block" ><div class="block-inner clearfix">        <div class="block-content content"><br /><br /><br /><br /><br /><br /><br /></div></div></div></div></div>
              <div id="branding" class="branding-elements clearfix">

                      <div id="logo"><a href="/" title="Home page"><img class="site-logo" typeof="foaf:Image" src="https://identity.allseenalliance.org/sites/default/files/logo.png" alt="AllSeen Alliance" /></a></div>
          
                      <hgroup id="name-and-slogan" class="element-invisible">
                              <h1 id="site-name" class="element-invisible"><a href="/" title="Home page">AllSeen Alliance</a></h1>
                                        </hgroup>
          
          <!--main menu-->
          <a id="main-menu-toggle" href="#">Site Sections</a>
  		  		  		
        </div>
      
    </header>


    <div id="columns" class="clearfix">
      <div id="sub-menu-bar">
        <div class="region region-sub-menu-bar"><div class="region-inner clearfix"><div id="block-menu-block-allseen-docs-nav" class="block block-menu-block"  role="navigation"><div class="block-inner clearfix">        <div class="block-content content"><div class="menu-block-wrapper menu-block-allseen-docs-nav menu-name-main-menu parent-mlid-0 menu-level-2">
  <ul class="menu clearfix"><li class="first has-children active-trail menu-mlid-2504 menu-item-2504"><a href="/developers/learn" class="active-trail">Learn</a></li><li class="has-children menu-mlid-2539 menu-item-2539"><a href="/developers/download">Download</a></li><li class="has-children menu-mlid-2541 menu-item-2541"><a href="/developers/develop">Develop</a></li><li class="last has-children menu-mlid-2636 menu-item-2636"><a href="/developers/contribute">Contribute</a></li></ul></div>
</div></div></div><section id="block-menu-block-allseen-docs-responsive-nav" class="block block-menu-block"  role="navigation"><div class="block-inner clearfix">        <div class="block-title-wrapper">
      <h2 class="block-title">Menu</h2>
    </div>
      <div class="block-content content"><div class="menu-block-wrapper menu-block-allseen-docs-responsive-nav menu-name-main-menu parent-mlid-0 menu-level-1">
  <ul class="menu clearfix"><li class="first menu-parent menu-mlid-1994 menu-item-1994"><a href="/about">About</a><ul class="menu clearfix"><li class="first menu-mlid-2486 menu-item-2486"><a href="/about/why-allseen">Why AllSeen</a></li><li class="menu-mlid-2464 menu-item-2464"><a href="/about/get-involved">Get Involved</a></li><li class="collapsed menu-mlid-2446 menu-item-2446"><a href="/about/governance/ip-policy">IP Policy</a></li><li class="menu-mlid-2491 menu-item-2491"><a href="/about/working-groups">Working Groups</a></li><li class="menu-mlid-2286 menu-item-2286"><a href="/about/members">Member Companies</a></li><li class="menu-mlid-2285 menu-item-2285"><a href="/about/join-allseen-alliance">Join The AllSeen Alliance</a></li><li class="collapsed menu-mlid-2447 menu-item-2447"><a href="/about/governance">Governance</a></li><li class="menu-mlid-501 menu-item-501"><a href="/about/faqs">FAQs</a></li><li class="menu-mlid-2322 menu-item-2322"><a href="/about/contact">Contact Us</a></li><li class="menu-mlid-2282 menu-item-2282"><a href="/allseen/what-is-allseen-alliance">What is AllSeen Alliance?</a></li><li class="last menu-mlid-2490 menu-item-2490"><a href="https://wiki.allseenalliance.org/members_private/start?do=login&amp;sectok=34485854163fe6a0be457198139e2c84" title="Members Area" id="members_area" name="Members Area" rel="nofollow" target="_blank">Members Area</a></li></ul></li><li class="menu-parent active-trail menu-mlid-2503 menu-item-2503"><a href="/developers" class="active-trail">Developers</a><ul class="menu clearfix"><li class="first menu-parent has-children active-trail menu-mlid-2504 menu-item-2504"><a href="/developers/learn" class="active-trail active-trail">Learn</a><ul class="menu clearfix"><li class="first menu-mlid-2505 menu-item-2505"><a href="/developers/learn/use-cases">Use Cases</a></li><li class="menu-mlid-2506 menu-item-2506"><a href="/developers/learn/architecture">Architecture</a></li><li class="menu-parent active-trail menu-mlid-2507 menu-item-2507"><a href="/developers/learn/core" class="active-trail">Core Framework</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2508 menu-item-2508"><a href="/developers/learn/core/about-announcement">About Announcement</a><ul class="menu clearfix"><li class="first menu-mlid-2509 menu-item-2509"><a href="/developers/learn/core/about-announcement/interface">Interface</a></li><li class="last menu-mlid-2510 menu-item-2510"><a href="/developers/learn/core/about-announcement/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-mlid-2511 menu-item-2511"><a href="/developers/learn/core/events-and-actions">Events and Actions</a></li><li class="menu-mlid-2992 menu-item-2992"><a href="/developers/learn/core/rn_config">Routing Node Configuration</a></li><li class="menu-mlid-2512 menu-item-2512"><a href="/developers/learn/core/standard-core">Standard Core</a></li><li class="menu-mlid-2513 menu-item-2513"><a href="/developers/learn/core/thin-core">Thin Core</a></li><li class="menu-parent active-trail menu-mlid-2514 menu-item-2514"><a href="/developers/learn/core/system-description" class="active-trail">System Description</a><ul class="menu clearfix"><li class="first menu-mlid-2515 menu-item-2515"><a href="/developers/learn/core/system-description/system-architecture">System Architecture</a></li><li class="menu-mlid-2516 menu-item-2516"><a href="/developers/learn/core/system-description/advertisement-discovery">Advertisement and Discovery</a></li><li class="menu-mlid-2645 menu-item-2645"><a href="/developers/learn/core/system-description/alljoyn-transport">AllJoyn Transport</a></li><li class="active-trail active menu-mlid-2517 menu-item-2517"><a href="/developers/learn/core/system-description/data-exchange" class="active-trail active">Data Exchange</a></li><li class="menu-mlid-2518 menu-item-2518"><a href="/developers/learn/core/system-description/alljoyn-session">AllJoyn Session</a></li><li class="menu-mlid-2519 menu-item-2519"><a href="/developers/learn/core/system-description/sessionless-signal">Sessionless Signal</a></li><li class="menu-mlid-2520 menu-item-2520"><a href="/developers/learn/core/system-description/alljoyn-security">AllJoyn Security</a></li><li class="menu-mlid-2521 menu-item-2521"><a href="/developers/learn/core/system-description/thin-apps">Thin Apps</a></li><li class="last menu-mlid-2522 menu-item-2522"><a href="/developers/learn/core/system-description/events-actions">Events and Actions</a></li></ul></li><li class="last menu-parent menu-mlid-2937 menu-item-2937"><a href="/developers/learn/core/security2_0">Security 2.0</a><ul class="menu clearfix"><li class="first last menu-mlid-2938 menu-item-2938"><a href="/developers/learn/core/security2_0/hld">High-Level Design</a></li></ul></li></ul></li><li class="menu-parent menu-mlid-2523 menu-item-2523"><a href="/developers/learn/base-services">Base Services</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2524 menu-item-2524"><a href="/developers/learn/base-services/onboarding">Onboarding</a><ul class="menu clearfix"><li class="first menu-mlid-2525 menu-item-2525"><a href="/developers/learn/base-services/onboarding/interface">Interface</a></li><li class="last menu-mlid-2526 menu-item-2526"><a href="/developers/learn/base-services/onboarding/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-parent menu-mlid-2527 menu-item-2527"><a href="/developers/learn/base-services/configuration">Configuration</a><ul class="menu clearfix"><li class="first menu-mlid-2528 menu-item-2528"><a href="/developers/learn/base-services/configuration/interface">Interface</a></li><li class="last menu-mlid-2529 menu-item-2529"><a href="/developers/learn/base-services/configuration/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-parent menu-mlid-2530 menu-item-2530"><a href="/developers/learn/base-services/notification">Notification</a><ul class="menu clearfix"><li class="first menu-mlid-2531 menu-item-2531"><a href="/developers/learn/base-services/notification/interface">Interface</a></li><li class="last menu-mlid-2532 menu-item-2532"><a href="/developers/learn/base-services/notification/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-parent menu-mlid-2533 menu-item-2533"><a href="/developers/learn/base-services/controlpanel">ControlPanel</a><ul class="menu clearfix"><li class="first menu-mlid-2534 menu-item-2534"><a href="/developers/learn/base-services/controlpanel/interface">Interface</a></li><li class="last menu-mlid-2535 menu-item-2535"><a href="/developers/learn/base-services/controlpanel/interface-14-02">Interface 14.02</a></li></ul></li><li class="last menu-parent menu-mlid-2536 menu-item-2536"><a href="/developers/learn/base-services/audiostreaming">Audio Streaming</a><ul class="menu clearfix"><li class="first last menu-mlid-2537 menu-item-2537"><a href="/developers/learn/base-services/audiostreaming/interface">Interface</a></li></ul></li></ul></li><li class="last menu-mlid-2538 menu-item-2538"><a href="/developers/learn/glossary">Glossary</a></li></ul></li><li class="menu-parent has-children menu-mlid-2539 menu-item-2539"><a href="/developers/download">Download</a><ul class="menu clearfix"><li class="first last menu-mlid-2540 menu-item-2540"><a href="/developers/download/supported-platforms">Supported Platforms</a></li></ul></li><li class="menu-parent has-children menu-mlid-2541 menu-item-2541"><a href="/developers/develop">Develop</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2542 menu-item-2542"><a href="/developers/develop/building">Building</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2543 menu-item-2543"><a href="/developers/develop/building/android">Android</a><ul class="menu clearfix"><li class="first last menu-mlid-2544 menu-item-2544"><a href="/developers/develop/building/android/build-source">Build Source</a></li></ul></li><li class="menu-parent menu-mlid-2545 menu-item-2545"><a href="/developers/develop/building/linux">Linux</a><ul class="menu clearfix"><li class="first menu-mlid-2546 menu-item-2546"><a href="/developers/develop/building/linux/openwrt">OpenWRT</a></li><li class="last menu-mlid-2547 menu-item-2547"><a href="/developers/develop/building/linux/build-source">Build Source</a></li></ul></li><li class="menu-parent menu-mlid-2548 menu-item-2548"><a href="/developers/develop/building/ios-osx">iOS/OS X</a><ul class="menu clearfix"><li class="first last menu-mlid-2549 menu-item-2549"><a href="/developers/develop/building/ios-osx/build-source">Build Source</a></li></ul></li><li class="menu-parent menu-mlid-2550 menu-item-2550"><a href="/developers/develop/building/windows">Windows</a><ul class="menu clearfix"><li class="first last menu-mlid-2551 menu-item-2551"><a href="/developers/develop/building/windows/build-source">Build Source</a></li></ul></li><li class="menu-mlid-2552 menu-item-2552"><a href="/developers/develop/building/thin-linux">Thin - Linux</a></li><li class="menu-mlid-2553 menu-item-2553"><a href="/developers/develop/building/thin-windows">Thin - Windows</a></li><li class="last menu-mlid-2993 menu-item-2993"><a href="/developers/develop/building/alljoyn-js">AllJoyn.js</a></li></ul></li><li class="menu-parent menu-mlid-2554 menu-item-2554"><a href="/developers/develop/run-sample-apps">Running Samples</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2555 menu-item-2555"><a href="/developers/develop/run-sample-apps/basic">Basic</a><ul class="menu clearfix"><li class="first menu-mlid-2556 menu-item-2556"><a href="/developers/develop/run-sample-apps/basic/android">Android</a></li><li class="menu-mlid-2557 menu-item-2557"><a href="/developers/develop/run-sample-apps/basic/linux">Linux</a></li><li class="menu-mlid-2558 menu-item-2558"><a href="/developers/develop/run-sample-apps/basic/ios-osx">iOS/OS X</a></li><li class="menu-mlid-2559 menu-item-2559"><a href="/developers/develop/run-sample-apps/basic/windows">Windows</a></li><li class="menu-mlid-2560 menu-item-2560"><a href="/developers/develop/run-sample-apps/basic/thin-linux">Thin - Linux</a></li><li class="last menu-mlid-2561 menu-item-2561"><a href="/developers/develop/run-sample-apps/basic/thin-windows">Thin - Windows</a></li></ul></li><li class="menu-parent menu-mlid-2562 menu-item-2562"><a href="/developers/develop/run-sample-apps/chat">Chat</a><ul class="menu clearfix"><li class="first menu-mlid-2563 menu-item-2563"><a href="/developers/develop/run-sample-apps/chat/android">Android</a></li><li class="menu-mlid-2564 menu-item-2564"><a href="/developers/develop/run-sample-apps/chat/linux">Linux</a></li><li class="menu-mlid-2565 menu-item-2565"><a href="/developers/develop/run-sample-apps/chat/ios-osx">iOS/OS X</a></li><li class="menu-mlid-2566 menu-item-2566"><a href="/developers/develop/run-sample-apps/chat/windows">Windows</a></li><li class="last menu-mlid-2567 menu-item-2567"><a href="/developers/develop/run-sample-apps/chat/thin-linux">Thin - Linux</a></li></ul></li><li class="menu-parent menu-mlid-2568 menu-item-2568"><a href="/developers/develop/run-sample-apps/about">About</a><ul class="menu clearfix"><li class="first menu-mlid-2569 menu-item-2569"><a href="/developers/develop/run-sample-apps/about/linux">Linux</a></li><li class="menu-mlid-2570 menu-item-2570"><a href="/developers/develop/run-sample-apps/about/ios-osx">iOS/OS X</a></li><li class="last menu-mlid-2646 menu-item-2646"><a href="/developers/develop/run-sample-apps/about/windows">Windows</a></li></ul></li><li class="menu-mlid-2934 menu-item-2934"><a href="/developers/develop/run-sample-apps/observer">Observer</a></li><li class="menu-parent menu-mlid-2571 menu-item-2571"><a href="/developers/develop/run-sample-apps/config">Config</a><ul class="menu clearfix"><li class="first menu-mlid-2572 menu-item-2572"><a href="/developers/develop/run-sample-apps/config/android">Android</a></li><li class="menu-mlid-2573 menu-item-2573"><a href="/developers/develop/run-sample-apps/config/linux">Linux</a></li><li class="menu-mlid-2574 menu-item-2574"><a href="/developers/develop/run-sample-apps/config/ios-osx">iOS/OS X</a></li><li class="last menu-mlid-2575 menu-item-2575"><a href="/developers/develop/run-sample-apps/config/thin-linux">Thin - Linux</a></li></ul></li><li class="menu-parent menu-mlid-2576 menu-item-2576"><a href="/developers/develop/run-sample-apps/controlpanel">Control Panel</a><ul class="menu clearfix"><li class="first menu-mlid-2577 menu-item-2577"><a href="/developers/develop/run-sample-apps/controlpanel/android">Android</a></li><li class="menu-mlid-2578 menu-item-2578"><a href="/developers/develop/run-sample-apps/controlpanel/linux">Linux</a></li><li class="menu-mlid-2579 menu-item-2579"><a href="/developers/develop/run-sample-apps/controlpanel/ios-osx">iOS/OS X</a></li><li class="last menu-mlid-2580 menu-item-2580"><a href="/developers/develop/run-sample-apps/controlpanel/thin-linux">Thin - Linux</a></li></ul></li><li class="menu-parent menu-mlid-2581 menu-item-2581"><a href="/developers/develop/run-sample-apps/notification">Notification</a><ul class="menu clearfix"><li class="first menu-mlid-2582 menu-item-2582"><a href="/developers/develop/run-sample-apps/notification/android">Android</a></li><li class="menu-mlid-2583 menu-item-2583"><a href="/developers/develop/run-sample-apps/notification/linux">Linux</a></li><li class="menu-mlid-2584 menu-item-2584"><a href="/developers/develop/run-sample-apps/notification/ios-osx">iOS/OS X</a></li><li class="last menu-mlid-2585 menu-item-2585"><a href="/developers/develop/run-sample-apps/notification/thin-linux">Thin - Linux</a></li></ul></li><li class="menu-parent menu-mlid-2586 menu-item-2586"><a href="/developers/develop/run-sample-apps/onboarding">Onboarding</a><ul class="menu clearfix"><li class="first menu-mlid-2587 menu-item-2587"><a href="/developers/develop/run-sample-apps/onboarding/android">Android</a></li><li class="menu-mlid-2588 menu-item-2588"><a href="/developers/develop/run-sample-apps/onboarding/linux">Linux</a></li><li class="last menu-mlid-2589 menu-item-2589"><a href="/developers/develop/run-sample-apps/onboarding/ios-osx">iOS/OS X</a></li></ul></li><li class="menu-parent menu-mlid-2590 menu-item-2590"><a href="/developers/develop/run-sample-apps/acserver">AC Server</a><ul class="menu clearfix"><li class="first menu-mlid-2591 menu-item-2591"><a href="/developers/develop/run-sample-apps/acserver/linux">Linux</a></li><li class="last menu-mlid-2592 menu-item-2592"><a href="/developers/develop/run-sample-apps/acserver/thin-linux">Thin - Linux</a></li></ul></li><li class="menu-parent menu-mlid-2593 menu-item-2593"><a href="/developers/develop/run-sample-apps/test">Command Line Apps</a><ul class="menu clearfix"><li class="first last menu-mlid-2594 menu-item-2594"><a href="/developers/develop/run-sample-apps/test/sessions">Sessions</a></li></ul></li><li class="last menu-mlid-2994 menu-item-2994"><a href="/developers/develop/run-sample-apps/alljoyn-js">AllJoyn.js</a></li></ul></li><li class="menu-parent menu-mlid-2595 menu-item-2595"><a href="/developers/develop/api-guide">API Guide</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2596 menu-item-2596"><a href="/developers/develop/api-guide/core">Core</a><ul class="menu clearfix"><li class="first menu-mlid-2939 menu-item-2939"><a href="/developers/develop/api-guide/core/java">java</a></li><li class="menu-mlid-2940 menu-item-2940"><a href="/developers/develop/api-guide/core/objc">Objective-C</a></li><li class="menu-mlid-2647 menu-item-2647"><a href="/developers/develop/api-guide/core/alljoyn-transports-best-practices">Alljoyn Transports Best Practices</a></li><li class="menu-mlid-2648 menu-item-2648"><a href="/developers/develop/api-guide/core/auto-ping">AutoPinger</a></li><li class="menu-mlid-2935 menu-item-2935"><a href="/developers/develop/api-guide/core/observer">Observer</a></li><li class="last menu-mlid-2936 menu-item-2936"><a href="/developers/develop/api-guide/core/propcache">Property Cache</a></li></ul></li><li class="menu-parent menu-mlid-2599 menu-item-2599"><a href="/developers/develop/api-guide/about">About</a><ul class="menu clearfix"><li class="first menu-mlid-2941 menu-item-2941"><a href="/developers/develop/api-guide/about/java">java</a></li><li class="menu-mlid-2942 menu-item-2942"><a href="/developers/develop/api-guide/about/cpp">C++</a></li><li class="menu-mlid-2943 menu-item-2943"><a href="/developers/develop/api-guide/about/objc">Objective-C</a></li><li class="menu-mlid-2944 menu-item-2944"><a href="/developers/develop/api-guide/about/c-thin">C (Thin Core)</a></li><li class="menu-mlid-2945 menu-item-2945"><a href="/developers/develop/api-guide/about/java-legacy">java Legacy</a></li><li class="menu-mlid-2946 menu-item-2946"><a href="/developers/develop/api-guide/about/cpp-legacy">C++ Legacy</a></li><li class="last menu-mlid-2947 menu-item-2947"><a href="/developers/develop/api-guide/about/objc-legacy">Objective-C Legacy</a></li></ul></li><li class="menu-parent menu-mlid-2604 menu-item-2604"><a href="/developers/develop/api-guide/onboarding">Onboarding</a><ul class="menu clearfix"><li class="first menu-mlid-2948 menu-item-2948"><a href="/developers/develop/api-guide/onboarding/java">java</a></li><li class="last menu-mlid-2949 menu-item-2949"><a href="/developers/develop/api-guide/onboarding/objc">Objective-C</a></li></ul></li><li class="menu-parent menu-mlid-2607 menu-item-2607"><a href="/developers/develop/api-guide/config">Configuration</a><ul class="menu clearfix"><li class="first menu-mlid-2950 menu-item-2950"><a href="/developers/develop/api-guide/config/java">java</a></li><li class="menu-mlid-2951 menu-item-2951"><a href="/developers/develop/api-guide/config/cpp">C++</a></li><li class="menu-mlid-2952 menu-item-2952"><a href="/developers/develop/api-guide/config/objc">Objective-C</a></li><li class="last menu-mlid-2953 menu-item-2953"><a href="/developers/develop/api-guide/config/c-thin">C (Thin Core)</a></li></ul></li><li class="menu-parent menu-mlid-2612 menu-item-2612"><a href="/developers/develop/api-guide/notification">Notification</a><ul class="menu clearfix"><li class="first menu-mlid-2954 menu-item-2954"><a href="/developers/develop/api-guide/notification/java">java</a></li><li class="menu-mlid-2955 menu-item-2955"><a href="/developers/develop/api-guide/notification/cpp">C++</a></li><li class="menu-mlid-2956 menu-item-2956"><a href="/developers/develop/api-guide/notification/objc">Objective-C</a></li><li class="last menu-mlid-2957 menu-item-2957"><a href="/developers/develop/api-guide/notification/c-thin">C (Thin Core)</a></li></ul></li><li class="menu-parent menu-mlid-2617 menu-item-2617"><a href="/developers/develop/api-guide/controlpanel">Control Panel</a><ul class="menu clearfix"><li class="first menu-mlid-2958 menu-item-2958"><a href="/developers/develop/api-guide/controlpanel/java">java</a></li><li class="menu-mlid-2959 menu-item-2959"><a href="/developers/develop/api-guide/controlpanel/cpp">C++</a></li><li class="menu-mlid-2960 menu-item-2960"><a href="/developers/develop/api-guide/controlpanel/objc">Objective-C</a></li><li class="last menu-mlid-2961 menu-item-2961"><a href="/developers/develop/api-guide/controlpanel/c-thin">C (Thin Core)</a></li></ul></li><li class="menu-parent menu-mlid-2622 menu-item-2622"><a href="/developers/develop/api-guide/audio-streaming">Audio Streaming</a><ul class="menu clearfix"><li class="first last menu-mlid-2962 menu-item-2962"><a href="/developers/develop/api-guide/audio-streaming/cpp">C++</a></li></ul></li><li class="last menu-mlid-2624 menu-item-2624"><a href="/developers/develop/api-guide/events-and-actions">Events and Actions</a></li></ul></li><li class="menu-mlid-2625 menu-item-2625"><a href="/developers/develop/api-reference">API Reference</a></li><li class="menu-parent menu-mlid-2626 menu-item-2626"><a href="/developers/develop/debug">Debug</a><ul class="menu clearfix"><li class="first last menu-mlid-2627 menu-item-2627"><a href="/developers/develop/debug/common-issues">Common Issues</a></li></ul></li><li class="menu-parent menu-mlid-2628 menu-item-2628"><a href="/developers/develop/tutorial">Tutorial</a><ul class="menu clearfix"><li class="first menu-mlid-2629 menu-item-2629"><a href="/developers/develop/tutorial/core">Core</a></li><li class="menu-mlid-2630 menu-item-2630"><a href="/developers/develop/tutorial/ios">iOS</a></li><li class="menu-mlid-2631 menu-item-2631"><a href="/developers/develop/tutorial/thin-app">Thin App</a></li><li class="menu-mlid-2632 menu-item-2632"><a href="/developers/develop/tutorial/arduino-and-gt202">Arduino + GT202</a></li><li class="last menu-mlid-2633 menu-item-2633"><a href="/developers/develop/tutorial/videos">Videos</a></li></ul></li><li class="last menu-mlid-2634 menu-item-2634"><a href="/developers/develop/ask">Ask Forum</a></li></ul></li><li class="last menu-parent has-children menu-mlid-2636 menu-item-2636"><a href="/developers/contribute">Contribute</a><ul class="menu clearfix"><li class="first last menu-mlid-2637 menu-item-2637"><a href="/developers/contribute/project-lifecycle">Project Lifecycle</a></li></ul></li></ul></li><li class="menu-mlid-2466 menu-item-2466"><a href="/showcase-products-using-alljoyn">Showcase</a></li><li class="menu-parent menu-mlid-2487 menu-item-2487"><a href="/allseen-alliance-certification">Certification</a><ul class="menu clearfix"><li class="first menu-mlid-2488 menu-item-2488"><a href="/certification/how-validate-your-designed-allseen-product">How To Validate Your Product</a></li><li class="last menu-mlid-2489 menu-item-2489"><a href="/certification/faq">FAQ</a></li></ul></li><li class="last menu-parent menu-mlid-2421 menu-item-2421"><a href="/news-and-events">News &amp; Events</a><ul class="menu clearfix"><li class="first menu-mlid-2422 menu-item-2422"><a href="/news-and-events/newsroom/announcements">Announcements</a></li><li class="menu-mlid-2449 menu-item-2449"><a href="/news/videos">Videos</a></li><li class="menu-mlid-2423 menu-item-2423"><a href="/news-and-events/newsroom/in-the-news">In The News</a></li><li class="menu-mlid-2424 menu-item-2424"><a href="/news-and-events/events">Events</a></li><li class="menu-mlid-2448 menu-item-2448"><a href="/news-and-events/blogs">Blogs</a></li><li class="menu-mlid-2461 menu-item-2461"><a href="/news-and-events/newsletters">Newsletters</a></li><li class="last menu-mlid-2933 menu-item-2933"><a href="/news-and-events/videos">Videos</a></li></ul></li></ul></div>
</div></div></section></div></div>      </div>
            
      
      <div class="region region-sidebar-first sidebar"><div class="region-inner clearfix"><div id="block-menu-block-1" class="block block-menu-block"  role="navigation"><div class="block-inner clearfix">        <div class="block-content content"><div class="menu-block-wrapper menu-block-1 menu-name-main-menu parent-mlid-0 menu-level-3">
  <ul class="menu clearfix"><li class="first menu-mlid-2505 menu-item-2505"><a href="/developers/learn/use-cases">Use Cases</a></li><li class="menu-mlid-2506 menu-item-2506"><a href="/developers/learn/architecture">Architecture</a></li><li class="menu-parent active-trail menu-mlid-2507 menu-item-2507"><a href="/developers/learn/core" class="active-trail">Core Framework</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2508 menu-item-2508"><a href="/developers/learn/core/about-announcement">About Announcement</a><ul class="menu clearfix"><li class="first menu-mlid-2509 menu-item-2509"><a href="/developers/learn/core/about-announcement/interface">Interface</a></li><li class="last menu-mlid-2510 menu-item-2510"><a href="/developers/learn/core/about-announcement/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-mlid-2511 menu-item-2511"><a href="/developers/learn/core/events-and-actions">Events and Actions</a></li><li class="menu-mlid-2992 menu-item-2992"><a href="/developers/learn/core/rn_config">Routing Node Configuration</a></li><li class="menu-mlid-2512 menu-item-2512"><a href="/developers/learn/core/standard-core">Standard Core</a></li><li class="menu-mlid-2513 menu-item-2513"><a href="/developers/learn/core/thin-core">Thin Core</a></li><li class="menu-parent active-trail menu-mlid-2514 menu-item-2514"><a href="/developers/learn/core/system-description" class="active-trail">System Description</a><ul class="menu clearfix"><li class="first menu-mlid-2515 menu-item-2515"><a href="/developers/learn/core/system-description/system-architecture">System Architecture</a></li><li class="menu-mlid-2516 menu-item-2516"><a href="/developers/learn/core/system-description/advertisement-discovery">Advertisement and Discovery</a></li><li class="menu-mlid-2645 menu-item-2645"><a href="/developers/learn/core/system-description/alljoyn-transport">AllJoyn Transport</a></li><li class="active-trail active menu-mlid-2517 menu-item-2517"><a href="/developers/learn/core/system-description/data-exchange" class="active-trail active">Data Exchange</a></li><li class="menu-mlid-2518 menu-item-2518"><a href="/developers/learn/core/system-description/alljoyn-session">AllJoyn Session</a></li><li class="menu-mlid-2519 menu-item-2519"><a href="/developers/learn/core/system-description/sessionless-signal">Sessionless Signal</a></li><li class="menu-mlid-2520 menu-item-2520"><a href="/developers/learn/core/system-description/alljoyn-security">AllJoyn Security</a></li><li class="menu-mlid-2521 menu-item-2521"><a href="/developers/learn/core/system-description/thin-apps">Thin Apps</a></li><li class="last menu-mlid-2522 menu-item-2522"><a href="/developers/learn/core/system-description/events-actions">Events and Actions</a></li></ul></li><li class="last menu-parent menu-mlid-2937 menu-item-2937"><a href="/developers/learn/core/security2_0">Security 2.0</a><ul class="menu clearfix"><li class="first last menu-mlid-2938 menu-item-2938"><a href="/developers/learn/core/security2_0/hld">High-Level Design</a></li></ul></li></ul></li><li class="menu-parent menu-mlid-2523 menu-item-2523"><a href="/developers/learn/base-services">Base Services</a><ul class="menu clearfix"><li class="first menu-parent menu-mlid-2524 menu-item-2524"><a href="/developers/learn/base-services/onboarding">Onboarding</a><ul class="menu clearfix"><li class="first menu-mlid-2525 menu-item-2525"><a href="/developers/learn/base-services/onboarding/interface">Interface</a></li><li class="last menu-mlid-2526 menu-item-2526"><a href="/developers/learn/base-services/onboarding/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-parent menu-mlid-2527 menu-item-2527"><a href="/developers/learn/base-services/configuration">Configuration</a><ul class="menu clearfix"><li class="first menu-mlid-2528 menu-item-2528"><a href="/developers/learn/base-services/configuration/interface">Interface</a></li><li class="last menu-mlid-2529 menu-item-2529"><a href="/developers/learn/base-services/configuration/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-parent menu-mlid-2530 menu-item-2530"><a href="/developers/learn/base-services/notification">Notification</a><ul class="menu clearfix"><li class="first menu-mlid-2531 menu-item-2531"><a href="/developers/learn/base-services/notification/interface">Interface</a></li><li class="last menu-mlid-2532 menu-item-2532"><a href="/developers/learn/base-services/notification/interface-14-02">Interface 14.02</a></li></ul></li><li class="menu-parent menu-mlid-2533 menu-item-2533"><a href="/developers/learn/base-services/controlpanel">ControlPanel</a><ul class="menu clearfix"><li class="first menu-mlid-2534 menu-item-2534"><a href="/developers/learn/base-services/controlpanel/interface">Interface</a></li><li class="last menu-mlid-2535 menu-item-2535"><a href="/developers/learn/base-services/controlpanel/interface-14-02">Interface 14.02</a></li></ul></li><li class="last menu-parent menu-mlid-2536 menu-item-2536"><a href="/developers/learn/base-services/audiostreaming">Audio Streaming</a><ul class="menu clearfix"><li class="first last menu-mlid-2537 menu-item-2537"><a href="/developers/learn/base-services/audiostreaming/interface">Interface</a></li></ul></li></ul></li><li class="last menu-mlid-2538 menu-item-2538"><a href="/developers/learn/glossary">Glossary</a></li></ul></div>
</div></div></div></div></div>            <div id="content-column" role="main">
        <div class="content-inner">

          
          <section id="main-content">

                                      <header id="main-content-header">

                                                  <h1 id="sub-title">
                    Data Exchange                  </h1>
                
                
              </header>
                        
                          <div id="content">
                        <article id="node-4103" class="node node-developer-document article clearfix" about="/developers/learn/core/system-description/data-exchange" typeof="sioc:Item foaf:Document" role="article">

  
      <span property="dc:title" content="Data Exchange" class="rdf-meta element-hidden"></span><span property="sioc:num_replies" content="0" datatype="xsd:integer" class="rdf-meta element-hidden"></span>
  
  <div class="node-content">
  
  <div class="field-body view-mode-full">
    
<h2 id="overview">Overview</h2>
<p>The AllJoyn® provider application implements one or more service 
objects that provide service functionality. These service objects 
implement one or more Bus interfaces which support methods, signals, 
and/or properties as interface members. AllJoyn applications can 
exchange data using these interface members. An AllJoyn session 
must be established to exchange data between provider and consumer 
applications except when sending sessionless signals 
(see <a href="/developers/learn/core/system-description/sessionless-signal">Sessionless Signal</a>). </p>
<p><strong>NOTE:</strong> AllJoyn service objects are not tied to any specific 
AllJoyn session. Any service object can be accessed over any AllJoyn session.</p>
<p>The following figure shows the functional architecture for 
the provider application. </p>
<p><img src="/sites/default/files/developers/learn/system-desc/provider-functional-arch.png" alt="provider-functional-arch" /></p>
<p><strong>Figure:</strong> Provider functional architecture</p>
<p>Aspects about the architecture follow.</p>
<ul><li>Each service object has an associated object path which app 
may decide to announce as part of About feature's announcement signal. </li>
<li>A provider device can host one or more AllJoyn sessions. </li>
<li>The provider app maintains distinct session port and a 
session Id for each hosted session among other parameters. </li>
<li>The provider application endpoint connected to the AllJoyn 
router has one associated unique name and one or more well-known 
names advertised by the application. </li>
<li>The AllJoyn router maintains session related state information. </li>
</ul><p>This information is used to perform sessionId-based routing 
for AllJoyn messages. </p>
<p>Once a session is established, the provider application can 
communicate with consumer apps via interface methods and 
properties when invoked by the consumer side. The provider 
app can also send signals specified in the bus interfaces 
to send data to consumer apps.</p>
<p>After an AllJoyn session is established, the consumer application 
has the connection established to exchange data with the provider 
app. The consumer app in a session can invoke methods and properties 
on the remote service objects, or can opt to receive signals 
emitted by the provider app. A ProxyBusObject is needed to 
exchange data via methods and properties. A signal handler 
is needed to receive signal data from the provider app.</p>
<p>The following figure shows the functional architecture for 
the consumer application. </p>
<p><img src="/sites/default/files/developers/learn/system-desc/consumer-functional-arch.png" alt="consumer-functional-arch" /></p>
<p><strong>Figure:</strong> Consumer functional architecture</p>
<p>Aspects of this architecture follow.</p>
<ul><li>A consumer app can join one or more AllJoyn sessions which 
can be with the same or different provider apps. </li>
<li>The consumer app creates one or more proxy objects, one 
for each remote service object it wants to communicate with. </li>
<li>A proxy object is a local representation of the desired 
remote service object on the provider app. </li>
<li>The service object path, unique name of the provider app 
and sessionId information are provided to create a proxy object. </li>
<li>To receive signals from the provider app, consumer app 
registers specific signal handlers with the AllJoyn router 
for signal names specified in the service object. </li>
<li>When a particular signal is received, specified signal 
handler gets invoked.</li>
<li>The consumer application endpoint connected to the AllJoyn 
router has one associated unique name. </li>
<li>The AllJoyn router maintains session-related state information 
for the joined sessions. This information is used to perform 
sessionId based routing for AllJoyn messages.</li>
</ul><h2 id="data-exchange-via-methods">Data exchange via methods</h2>
<p>The following use cases illustrate data exchange via method calls:</p>
<ul><li>Provider app sending a reply</li>
<li>Provider app not sending a reply</li>
</ul><h3 id="provider-app-sending-a-reply">Provider app sending a reply</h3>
<p>The following figure captures the message flow for the scenario 
when a consumer app remotely invokes a method call on the 
provider app to exchange data. A METHOD_RETURN reply message 
is sent back to the consumer app.</p>
<p><img src="/sites/default/files/developers/learn/system-desc/data-exchange-method-calls-reply-sent.png" alt="data-exchange-method-calls-reply-sent" /></p>
<p><strong>Figure:</strong> Data exchange via method calls (reply sent)</p>
<p>The message flow steps are described below.</p>
<ol><li>Both the provider and consumer apps connect to the AllJoyn 
router and perform advertisement and discovery steps to 
discover desired services.</li>
<li>The provider app registers its service objects with the 
AllJoyn core library. This step is needed to expose service 
objects to remote nodes on the network. The AllJoyn core library 
adds a MethodHandler for all the methods associated with a 
given service object.</li>
<li>The provider app binds a session port with the AllJoyn 
router via the AllJoyn core library's BindSessionPort API. 
This call specifies a session port, session options and a 
SessionPortListener for the session.</li>
<li>The provider and consumer apps perform AllJoyn service 
advertisement and discovery to discover the service offered 
by the provider app.</li>
<li>The consumer app establishes an AllJoyn session with the 
provider app over the bound session port. Now there is a 
session connection established between provider and consumer 
app to exchange data.</li>
<li>The consumer app creates a proxyBusObect via the AllJoyn 
core library's GetProxyBusObjcet API. The app specifies unique 
name of provider app, object path for the service object, 
sessionId, and list of BusInterfaces to which the proxy 
object should respond.</li>
<li>The consumer app gets the BusInterface from the created 
proxy object and calls a method on this BusInterface. 
The app provides input parameters for the method.</li>
<li>The ProxyBusObject:MethodCall method is called, which 
generates an AllJoyn METHOD_CALL message for the method call.</li>
<li>The proxy object sends the generated METHOD_CALL message 
to the AllJoyn router.</li>
<li>The AllJoyn router receives the message and determines 
where this message needs to be routed based on the 
session ID/destination information included in the message. 
In this case, the message needs to be routed to remote 
AllJoyn router endpoint at the provider.</li>
<li>The AllJoyn router sends the METHOD_CALL message to the 
remote AllJoyn router over the established session connection. 
The METHOD_CALL message includes a serial number, service 
objectPath, interfaceName in the service object, member name 
(method name) within the interfaceName, sessionId, and sender 
unique name as part of the header fields of the message. 
The method input parameters are included as part of the message body.</li>
<li>The provider AllJoyn router receives the METHOD_CALL 
message. It determines where this message needs to be 
routed based on the session ID/destination information. 
In this case, the message needs to be routed to the AllJoyn 
core library app endpoint. </li>
<li>The AllJoyn router sends the METHOD_CALL message to 
the AllJoyn core library endpoint. </li>
<li>The AllJoyn core library invokes the registered MethodHandler 
for the method call member specified in the received message. 
The MethodHandler invokes the actual method call with the 
BusInterface of the service object and receives the method 
response. It generates a METHOD_RETURN message for the method 
reply and sends to the AllJoyn router. </li>
<li>The AllJoyn router receives the METHOD_RETURN message 
and determines where this message needs to be routed based 
on session ID/destination information included in the message. 
In this case, the message needs to be routed to the remote 
AllJoyn router endpoint at the consumer.<ul><li>The provider AllJoyn router sends the METHOD_RETURN 
message to the remote AllJoyn router over established 
session connection. The METHOD_RETURN message includes a 
reply serial number (serial number of the associated METHOD_CALL 
message), sessionId, and sender's unique name as part of 
message header fields.  Any output parameters for the 
METHOD_RETURN message is specified as part of the message body.</li>
<li>The consumer AllJoyn router receives the METHOD_RETURN 
message. It determines where this message needs to be routed 
based on the session ID/destination information. In this case, 
the message needs to be routed to the app endpoint.</li>
<li>The AllJoyn router sends the METHOD_RETURN message to the 
application's endpoint with output parameters as the response 
to the original METHOD_CALL message. If the METHOD_CALL message 
was sent asynchronously, a ReplyHandler gets registered which 
is invoked when the METHOD_RETURN message is received.</li>
</ul></li>
</ol><h3 id="provider-app-not-sending-a-reply">Provider app not sending a reply</h3>
<p>When defining an interface definition, the provider can annotate 
some methods that are not returning any output parameters as 
NO_REPLY_EXPECTED. For such methods, the provider app will not 
be sending any METHOD_RETURN message back to the consumer. 
When invoking such a method, the consumer should set the NO_REPLY_EXPECTED 
flag to indicate to the AllJoyn core library that it does 
not need to start a timer and wait for a reply from the provider.</p>
<p>The following figure shows the message flow for the scenario 
when a method is invoked with the NO_REPLY_EXPECTED flag set, 
and no reply is sent by the provider app.</p>
<p><img src="/sites/default/files/developers/learn/system-desc/data-exchange-method-calls-reply-not-sent.png" alt="data-exchange-method-calls-reply-not-sent" /></p>
<p><strong>Figure:</strong> Data exchange via method calls (reply not sent)</p>
<p>Most of the message flow steps are similar to the reply sent 
message flow returning a method reply. The following captures 
the distinguishing steps with respect to that flow.</p>
<ol><li>When defining a service interface, provider app annotates 
one or more methods in the interface as NO_REPLY_EXPECTED. 
The service object implementing the service interface gets 
registered with the AllJoyn core library.</li>
<li>On the consumer side, when that method call is invoked 
via ProxyObject interfaces, the consumer sets the NO_REPLY_EXPECTED 
flag. This indicates to the AllJoyn core library that it does 
not need to start a timer and wait for a reply from the provider.</li>
<li>The METHOD_CALL message reaches the provider app and the 
associated method gets invoked. Since the method was annotated 
with NO_REPLY_EXPECTED, the provider app does not generate any reply.</li>
</ol><h2 id="data-exchange-via-signals">Data exchange via signals</h2>
<p>The following figure captures the message flow for the scenario 
when consumer app registers to receive signals from the provider 
app to exchange data. </p>
<p><img src="/sites/default/files/developers/learn/system-desc/data-exchange-signals.png" alt="data-exchange-signals" /></p>
<p><strong>Figure:</strong> Data exchange via signals</p>
<p>A signal gets forwarded to all participants in a session if 
only sessionId is specified in the header (no destination field). </p>
<p>If a specific destination is specified in the header field, 
then the signal is only sent to that participant.</p>
<p>The message flow steps are described below.</p>
<ol><li>Both the provider and consumer apps connect to the AllJoyn 
router and perform advertisement and discovery steps to 
discover desired services.</li>
<li>The provider app registers its service objects with the 
AllJoyn core library. This step is needed to expose service 
objects to remote nodes on the network. The AllJoyn core 
library adds a MethodHandler for all the methods associated 
with a given service object.</li>
<li>The provider app binds a session port with the AllJoyn 
router via the AllJoyn core library's BindSessionPort API. 
This call specifies a session port, session options, and a 
SessionPortListener for the session.</li>
<li>The provider and consumer apps perform AllJoyn service 
advertisement and discovery to discover the service offered 
by the provider app.</li>
<li>The consumer app establishes an AllJoyn session with 
the provider app over the bound session port. Now there 
is a session connection established between provider and 
consumer app to exchange data.</li>
<li>The consumer app registers a signal handler for receiving 
specific signal from the provider side service object by 
invoking RegisterSignalHandler API with the AllJoyn core library. 
The app specifies the interface name for the interface which 
includes the signal, name of the signal, object path for 
the object receiving the signal, signal handler method, 
and source object path for signal emitter.</li>
<li>The AllJoyn core library invokes an AddMatch call with 
the AllJoyn router to register the rule to receive this signal. 
This rule specifies type=signal, interface name, signal 
member name, and source object path for the object generating the signal.</li>
<li>When the provider app has the signal to send, it invokes 
the BusObject Signal(...) call specifying all the signal 
parameters. This call generates an AllJoyn SIGNAL message. </li>
<li>The SIGNAL message gets sent to the AllJoyn router. </li>
<li>The AllJoyn router receives the SIGNAL message and 
determines where this message needs to be routed based 
on the session ID/destination information included in the 
message. In this case, the message needs to be routed to 
remote AllJoyn router endpoint at the consumer.</li>
<li>The consumer AllJoyn router receives the signal and 
filters it based on registered match rules. In this case, 
the signal matches the registered rule. The AllJoyn router 
sends the received SIGNAL message to the AllJoyn core library app endpoint.</li>
<li>The AllJoyn core library calls the registered signal 
handler for the signal passing the received signal message parameters. </li>
</ol><h2 id="data-exchange-via-property">Data exchange via property</h2>
<p>The provider and consumer apps can exchange data via property 
members defined in the BusInterfaces of the service object. 
A property member has predefined get and set method calls 
to get the value of the property and to set a specific value 
on the property. The consumer app can invoke these get and 
set method calls for the property to exchange data. </p>
<p>To invoke these property methods, the message flow detailed 
for method calls in <a href="#data-exchange-via-methods">Data exchange via methods</a> applies.</p>
<h2 id="signal-versus-method-call-without-reply-">Signal versus (method call without reply)</h2>
<p>It is good to understand the difference between a signal and 
method call without a reply. In both cases, a single message 
is sent from the source; however, these are quite different. 
One of the main differences is that they are sent in different 
directions. A SIGNAL message is emitted by the provider app, 
whereas a METHOD_CALL message is sent by the consumer app. 
In addition, a SIGNAL message can be sent to be received by 
either a single destination or by multiple destinations, 
whereas the METHOD_CALL message is always sent to a single destination.</p>
<h2 id="match-rules">Match rules</h2>
<p>The AllJoyn framework supports D-Bus match rules for the consumer 
application to request and receive specific set of messages. 
Match rules describe the messages that should be sent to a 
consumer app based on the contents of the message. Match rules 
are typically used to receive a specific set of signal messages. 
Consumer apps can ask to receive specific set of signals from 
the AllJoyn router by specifying filtering/matching rules for signals. </p>
<p>Signals that are sent to a specific destination do not need 
to match the consumer's match rule. Instead, match rules are 
applied to signals which are not sent to a specific destination; 
they are meant to be received by multiple endpoints. These 
include broadcast signals, sessionless signals and session-specific 
signals sent to multiple participants in the session. 
Such signals get forwarded to only those consumer applications 
that have a suitable match rule. This avoids unnecessary waking 
up and processing for signals at the consumer applications.</p>
<p>Consumer applications can add a match rule by using the AddMatch 
method exposed by the AllJoyn router. Match rules are specified 
as a string of comma-separated key/value pairs. Excluding a key 
from the rule indicates a wildcard match, e.g., excluding the 
member key from a match rule but adding a sender lets all 
messages from that sender through. </p>
<p>For example:</p>
<pre><code class="lang-c"><code class="c">Match Rule = 
"type='signal',sender='org.freedesktop.DBus',interface='org.freedesktop.DBus',
member='Foo',path='/bar/foo',destination=':452345.34'"</code>
</code></pre>
<p>The AllJoyn framework supports a subset of D-Bus match rules 
as captured in <a href="#match-rule-keys-supported-by-the-alljoyn-framework">Match rule keys supported by the AllJoyn framework</a>. </p>
<p><strong>NOTE:</strong> The AllJoyn does not support D-Bus specified arg[0,1...N], 
arg[0,1,...N]path, arg0namespace and eavesdrop='true' in match rules.</p>
<h3 id="match-rule-keys-supported-by-the-alljoyn-framework">Match rule keys supported by the AllJoyn framework</h3>
<table><thead><tr><th>Match key</th>
<th>Possible values</th>
<th>Description</th>
</tr></thead><tbody><tr><td>type</td>
<td><ul><li>signal</li><li>method_call</li><li>method_return</li><li>error</li></ul></td>
<td>Match on the message type. An example of a type match is type='signal'.</td>
</tr><tr><td>sender</td>
<td>A well-known name or unique name</td>
<td>Match messages sent by a particular sender. An example of a sender match is sender='org.alljoyn.Refrigerator'.</td>
</tr><tr><td>interface</td>
<td>An interface name</td>
<td>Match messages sent over or to a particular interface. An example of an interface match is interface='org.alljoyn.Refrigerator'. If a message omits the interface header, it must not match any rule that specifies this key.</td>
</tr><tr><td>member</td>
<td>Any valid method or signal name</td>
<td>Matches messages which have the give method or signal name. An example of a member match is member='NameOwnerChanged'.</td>
</tr><tr><td>path</td>
<td>An object path</td>
<td>Matches messages which are sent from or to the given object. An example of a path match is path='/org/alljoyn/Refrigerator'.</td>
</tr><tr><td>path_namespace</td>
<td>An object path</td>
<td><p>Matches messages which are sent from or to an object for which the object path is either the given value, or that value followed by one or more path components.</p><p>For example, path_namespace='/com/example/foo' would match signals sent by /com/example/foo or by /com/example/foo/bar, but not by /com/example/foobar.</p><p>Using both path and path_namespace in the same match rule is not allowed.</p></td>
</tr><tr><td>destination</td>
<td>A unique name</td>
<td>Matches messages which are being sent to the given unique name. An example of a destination match is destination=':100.2'.</td>
</tr></tbody></table><p>An application can add multiple match rules for signals with the 
AllJoyn router. In this case, the app is essentially requesting 
to get signal messages based on multiple filtering criteria, and 
all match rules are applicable. As a result, the signal messages 
get sent to the app if they matches any of the specified match rules. </p>
<p>The AllJoyn router sends a union of messages to the app that 
matches with the specified rules. For example, if there is a 
more restrictive rule that matches a small set of signals, 
and there is another less restrictive rule that matches a 
larger superset of signals, the AllJoyn router always sends 
the larger superset of signals to the app.</p>
<h2 id="type-system">Type system</h2>
<p>The AllJoyn framework uses the D-Bus protocol type system 
which allows values of various types to be serialized in a 
standard way into a sequence of bytes referred to as the 
wire format. Converting values from some other representation 
into the wire format is called marshaling, and converting it 
back from the wire format is called unmarshaling. </p>
<p>The AllJoyn framework uses D-Bus marshaling format.</p>
<h3 id="type-signatures">Type signatures</h3>
<p>The AllJoyn framework uses the same type signatures that 
are used by the D-Bus protocol. The type signature is made 
up of type codes. The type code is an ASCII character that 
represents a standard data type. </p>
<h4 id="data-types-supported-by-the-alljoyn-framework">Data types supported by the AllJoyn framework</h4>
<table><thead><tr><th>Conventional name</th>
<th>Code</th>
<th>ASCII</th>
<th>Description</th>
</tr></thead><tbody><tr><td>INVALID</td>
<td>0</td>
<td>NUL</td>
<td>Not a valid type code, used to terminate signatures.</td>
</tr><tr><td>BYTE</td>
<td>121</td>
<td>'y'</td>
<td>8-bit unsigned integer.</td>
</tr><tr><td>BOOLEAN</td>
<td>98</td>
<td>'b'</td>
<td>Boolean value, 0 is FALSE and 1 is TRUE. Everything else is invalid.</td>
</tr><tr><td>INT16</td>
<td>110</td>
<td>'n'</td>
<td>16-bit signed integer.</td>
</tr><tr><td>UINT16</td>
<td>113</td>
<td>'q'</td>
<td>16-bit unsigned integer.</td>
</tr><tr><td>INT32</td>
<td>105</td>
<td>'i'</td>
<td>32-bit signed integer.</td>
</tr><tr><td>UINT32</td>
<td>117</td>
<td>'u'</td>
<td>32-bit unsigned integer.</td>
</tr><tr><td>UINT64</td>
<td>120</td>
<td>'x'</td>
<td>64-bit signed integer.</td>
</tr><tr><td>DOUBLE</td>
<td>100</td>
<td>'d'</td>
<td>IEEE 754 double.</td>
</tr><tr><td>STRING</td>
<td>115</td>
<td>'s'</td>
<td>UTF-8 string (must be valid UTF-8). Must be null terminated and contain no other null bytes.</td>
</tr><tr><td>OBJECT_PATH</td>
<td>111</td>
<td>'o'</td>
<td>Name of an object instance.</td>
</tr><tr><td>SIGNATURE</td>
<td>103</td>
<td>'g'</td>
<td>A type signature.</td>
</tr><tr><td>ARRAY</td>
<td>97</td>
<td>'a'</td>
<td>Array</td>
</tr><tr><td>STRUCT</td>
<td>114, 40, 41</td>
<td>'r', '(', ')'</td>
<td>Struct</td>
</tr><tr><td>VARIANT</td>
<td>118</td>
<td>'v'</td>
<td>Variant type (the type of the value is part of the value itself).</td>
</tr><tr><td>DICT_ENTRY</td>
<td>101, 123, 125</td>
<td>'e','{','}'</td>
<td>Entry in a dict or map (array of key-value pairs).</td>
</tr></tbody></table><p>Four of the types are container types: STRUCT, ARRAY, VARIANT, 
and DICT_ENTRY. All other types are common basic data types. 
When specifying a STRUCT or DICT_ENTRY, 'r' and 'e' should 
not be used. Instead, ASCII characters '(', ')', '{', and '}' 
should be used to mark the beginning and ending of a container.</p>
<h2 id="message-format">Message format</h2>
<p>The AllJoyn framework uses the D-Bus message format and 
extends it with additional header flags and header fields 
for AllJoyn messages. The AllJoyn message format is used 
to send messages between AllJoyn routers as well as between 
the application and the AllJoyn router.</p>
<p>Method calls, method replies and signal messages get encapsulated 
in AllJoyn message format. D-Bus defined METHOD_CALL, METHOD_RETURN 
and SIGNAL messages are used (with AllJoyn enhancements) for 
transporting these messages respectively. In case of error 
scenarios, an ERROR message is returned in reply to a method 
call (instead of METHOD_RETURN). </p>
<p>An AllJoyn message consists of a header and a body. 
The following figure shows the AllJoyn message format. 
Definitions for each message format field are provided in subsequent tables.</p>
<p><img src="/sites/default/files/developers/learn/system-desc/alljoyn-message-format.png" alt="alljoyn-message-format" /></p>
<p><strong>Figure:</strong> AllJoyn message format</p>
<h3 id="message-format-fields-supported-by-the-alljoyn-framework">Message format fields supported by the AllJoyn framework</h3>
<table><thead><tr><th>Field name</th>
<th>Description</th>
</tr></thead><tbody><tr><td>Endianness Flag</td>
<td>Endianness of the message. ASCII 'l' for little-endian or ASCII 'B' for big-endian. Both header and body are in this endianness.</td>
</tr><tr><td>Message Type</td>
<td>Type of message. This field is set per the definitions specified in <a href="#message-type-definitions">Message Type definitions</a>.</td>
</tr><tr><td>Header Flags</td>
<td><p>Provides any applicable flags for the message. This field is bitwise OR of flags. Unknown flags must be ignored.</p><p>This is set per the definitions specified in <a href="#header-flag-definitions">Header Flag definitions</a>.</p></td>
</tr><tr><td>Major Protocol Version</td>
<td>AllJoyn major protocol version for the sending application of this message.</td>
</tr><tr><td>Message Body Length</td>
<td>Length (in bytes) of the message body, starting from the end of the header.</td>
</tr><tr><td>Serial Number</td>
<td>Serial number of this message. This is assigned by the sender and used as a cookie by the sender to identify the reply corresponding to this request. This must not be zero.</td>
</tr><tr><td>List of Header Fields</td>
<td><p>This specifies an array of zero or more header fields where each field is a 1-byte field code followed by a field value.  This is represented as ARRAY of STRUCT of (BYTE, VARIANT). A header must contain the required header fields for its message type, and zero or more of any optional header fields. Implementations must ignore fields they do not understand.</p><p>The AllJoyn framework has extended the list of D-Bus defined header fields. <a href="#header-fields-definitions">Header Fields definitions</a> lists all the header fields supported by AllJoyn and mandatory/optional requirement for these fields for different message types.</p></td>
</tr><tr><td>Message Body</td>
<td>Body of the message. The content of message body is interpreted based on SIGNATURE header field.</td>
</tr></tbody></table><h3 id="message-type-definitions">Message Type definitions</h3>
<table><thead><tr><th>Name</th>
<th style="text-align:center">Value</th>
<th>Description</th>
</tr></thead><tbody><tr><td>INVALID</td>
<td style="text-align:center">0</td>
<td>An invalid type</td>
</tr><tr><td>METHOD_CALL</td>
<td style="text-align:center">1</td>
<td>Method call</td>
</tr><tr><td>METHOD_RETURN</td>
<td style="text-align:center">2</td>
<td>Method reply with returned data</td>
</tr><tr><td>ERROR</td>
<td style="text-align:center">3</td>
<td>Error reply</td>
</tr><tr><td>SIGNAL</td>
<td style="text-align:center">4</td>
<td>Signal emission</td>
</tr></tbody></table><h3 id="header-flag-definitions">Header Flag definitions</h3>
<table><thead><tr><th>Name</th>
<th style="text-align:center">Value</th>
<th>Description</th>
</tr></thead><tbody><tr><td>NO_REPLY_EXPECTED</td>
<td style="text-align:center">0x01</td>
<td><p>Indicates that no reply (method_return or error) is expected for the Method Call. The reply can be omitted as an optimization.</p><p><strong>NOTE:</strong> The provider app can still send back a reply despite this flag.</p></td>
</tr><tr><td>AUTO_START</td>
<td style="text-align:center">0x02</td>
<td><p>Indicates a request to start the service if not running. It is up to the AllJoyn core to honor this or not.</p><p><strong>NOTE:</strong> This flag is currently not supported.</p></td>
</tr><tr><td>ALLOW_REMOTE_MSG</td>
<td style="text-align:center">0x04</td>
<td>Indicates that messages from remote hosts should be allowed (valid only in Hello message sent from app to the AllJoyn core). If set by the app, the AllJoyn core allows messages from remote apps/hosts to be sent to the application.</td>
</tr><tr><td>(Reserved)</td>
<td style="text-align:center">0x08</td>
<td>Reserved/Unused</td>
</tr><tr><td>SESSIONLESS</td>
<td style="text-align:center">0x10</td>
<td>Indicates a sessionless signal message</td>
</tr><tr><td>GLOBAL_BROADCAST</td>
<td style="text-align:center">0x20</td>
<td>Indicates a global (bus-to-bus) broadcast signal. Applicable for signal only when SESSION_ID=0. If set, the associated signal gets delivered to all the nodes connected over any session in the proximal network.</td>
</tr><tr><td>COMPRESSED</td>
<td style="text-align:center">0x40</td>
<td>Indicates that the AllJoyn message header is compressed.</td>
</tr><tr><td>ENCRYPTED</td>
<td style="text-align:center">0x80</td>
<td>Indicates that the AllJoyn message body is encrypted.</td>
</tr></tbody></table><h3 id="header-fields-definitions">Header Fields definitions</h3>
<table><thead><tr><th>Name</th>
<th style="text-align:center">Field code</th>
<th style="text-align:center">Type</th>
<th>Required in</th>
<th>Description</th>
</tr></thead><tbody><tr><td>INVALID</td>
<td style="text-align:center">0</td>
<td style="text-align:center">N/A</td>
<td>Not allowed</td>
<td>Not a valid field name (error if it appears in a message).</td>
</tr><tr><td>PATH</td>
<td style="text-align:center">1</td>
<td style="text-align:center">OBJECT_PATH</td>
<td><ul><li>METHOD_CALL</li><li>SIGNAL</li></ul></td>
<td>Path of the object to send a method call to or path of the object a signal is emitted from.</td>
</tr><tr><td>INTERFACE</td>
<td style="text-align:center">2</td>
<td style="text-align:center">STRING</td>
<td><ul><li>METHOD_CALL</li><li>SIGNAL</li></ul></td>
<td>Interface to invoke a method call on, or the interface that a signal is emitted from.</td>
</tr><tr><td>MEMBER</td>
<td style="text-align:center">3</td>
<td style="text-align:center">STRING</td>
<td><ul><li>METHOD_CALL</li><li>SIGNAL</li></ul></td>
<td>The member, either the method name or signal name.</td>
</tr><tr><td>ERROR_NAME</td>
<td style="text-align:center">4</td>
<td style="text-align:center">STRING</td>
<td>ERROR</td>
<td>Name of the error that occurred, for error messages.</td>
</tr><tr><td>REPLY_SERIAL</td>
<td style="text-align:center">5</td>
<td style="text-align:center">UINT32</td>
<td><ul><li>ERROR</li><li>METHOD_RETURN</li></ul></td>
<td>Serial number of the message this message is a reply to.</td>
</tr><tr><td>DESTINATION</td>
<td style="text-align:center">6</td>
<td style="text-align:center">STRING</td>
<td><ul><li>Optional for SIGNAL</li><li>Required for all other messages</li></ul></td>
<td>The unique name of the connection this message is intended for.</td>
</tr><tr><td>SENDER</td>
<td style="text-align:center">7</td>
<td style="text-align:center">STRING</td>
<td>Required in all messages</td>
<td>The unique name of the sending connection. The message bus fills in this field.</td>
</tr><tr><td>SIGNATURE</td>
<td style="text-align:center">8</td>
<td style="text-align:center">SIGNATURE</td>
<td>optional</td>
<td><p>The data type signature of the message body. This is specified using D-Bus data type system.</p><p>If omitted, it is assumed to be the empty signature implying that the body must be of 0-length.</p></td>
</tr><tr><td>N/A</td>
<td style="text-align:center">9</td>
<td style="text-align:center">N/A</td>
<td>N/A</td>
<td>Unused</td>
</tr><tr><td>TIMESTAMP</td>
<td style="text-align:center">10</td>
<td style="text-align:center">UINT32</td>
<td>optional</td>
<td>Timestamp when the message was packaged.</td>
</tr><tr><td>TIME_TO_LIVE</td>
<td style="text-align:center">11</td>
<td style="text-align:center">UINT16</td>
<td><p>optional</p><p>If not specified, TTL is assumed to be infinite.</p></td>
<td><p>TTL associated with the message. A message gets discarded by the AllJoyn router when the TTL expires.</p><ul><li>For sessionless signal, the TTL value is specified in seconds.</li><li>For other messages, the TTL value is specified in msec.</li></ul></td>
</tr><tr><td>COMPRESSION_TOKEN</td>
<td style="text-align:center">12</td>
<td style="text-align:center">UINT32</td>
<td>optional</td>
<td>Token generated for the messages with header compression on.</td>
</tr><tr><td>SESSION_ID</td>
<td style="text-align:center">13</td>
<td style="text-align:center">UINT32</td>
<td>optional</td>
<td><p>Session ID for the session over which this message is being sent.</p><p>If missing, it is assumed to be 0.</p></td>
</tr></tbody></table><h2 id="message-routing">Message routing</h2>
<p>The AllJoyn system supports routing logic to route the following 
categories of messages:</p>
<ul><li>App-specific messages: These are app-generated messages that 
get routed between app endpoints based on the session ID/destination 
based routing logic described in section 6.9.1.</li>
<li>Control messages: These messages are generated by the AllJoyn 
router (e.g., AttachSession) that get routed to the local endpoint 
of the AllJoyn router.</li>
</ul><h3 id="session-id-destination-based-routing">Session ID/destination-based routing</h3>
<p>The AllJoyn system supports message routing based on session ID 
and/or destination fields for app-specific messages. A session 
ID-based routing table is formed and maintained at the AllJoyn 
router for routing messages. A single routing table is maintained 
for all the active sessions. </p>
<p>Conceptually, for every session ID, the routing table maintains 
a list of destination app endpoints for every app participating 
in the session and next hop bus-to-bus endpoint for those app 
endpoints which are remote. A remote endpoint is attached to 
a different AllJoyn router; however, it can be on the same 
device or on a different device. For destination endpoints that 
are local to the AllJoyn router, no bus-to-bus endpoint is 
maintained in the routing table.</p>
<pre><code class="lang-c"><code class="c">AllJoyn routing table = List (session Id, List (destination app endpoint, 
next hop B2B endpoint))</code>
</code></pre>
<p><strong>NOTE:</strong> A given destination endpoint can appear multiple times 
as part of different sessionId entries in an AllJoyn routing 
table. In this case, if there are multiple possible paths to a 
remote destination, different bus-to-bus endpoints can be used 
for the same destination as part of different sessionId entries. </p>
<p>When selecting a route, sessionId is used first to find a 
matching entry in the routing table. Destination field is used 
next to select a bus-to-bus endpoint (for remote destinations). </p>
<p>The following figure shows a deployment with two devices having 
an AllJoyn session established between them. All four apps 
are part of the session.</p>
<p><img src="/sites/default/files/developers/learn/system-desc/alljoyn-routing-example.png" alt="alljoyn-routing-example" /></p>
<p><strong>Figure:</strong> AllJoyn routing example</p>
<p>The AllJoyn router on each of the device maintains a routing 
table. <a href="#sample-routing-table-on-provider-device">Sample routing table on provider device</a> and
[Sample routing table on consumer device][sample-routing-table-on-consumer-device] show sample
AllJoyn routing tables maintained on the provider and consumer 
AllJoyn routers, respectively.</p>
<h4 id="sample-routing-table-on-provider-device">Sample routing table on provider device</h4>
<table><thead><tr><th>Session ID</th>
<th>Destination (app endpoint)</th>
<th>Next hop (B2B endpoint)</th>
</tr></thead><tbody><tr><td>10</td>
<td>App1 Endpoint (:100.2)</td>
<td>N/A</td>
</tr><tr><td></td>
<td>App 2 Endpoint (:100.3)</td>
<td>N/A</td>
</tr><tr><td></td>
<td>App 3 Endpoint (:200.2)</td>
<td>B2B Endpoint (:100.4)</td>
</tr><tr><td></td>
<td>App 4 Endpoint (:200.3)</td>
<td>B2B Endpoint (:100.4)</td>
</tr></tbody></table><h4 id="sample-routing-table-on-consumer-device">Sample routing table on consumer device</h4>
<table><thead><tr><th>Session ID</th>
<th>Destination (app endpoint)</th>
<th>Next hop (B2B endpoint)</th>
</tr></thead><tbody><tr><td>10</td>
<td>App1 Endpoint (:100.2)</td>
<td>B2B Endpoint (:100.4)</td>
</tr><tr><td></td>
<td>App 2 Endpoint (:100.3)</td>
<td>B2B Endpoint (:100.4)</td>
</tr><tr><td></td>
<td>App 3 Endpoint (:200.2)</td>
<td>N/A</td>
</tr><tr><td></td>
<td>App 4 Endpoint (:200.3)</td>
<td>N/A</td>
</tr></tbody></table><h4 id="routing-table-formation">Routing table formation</h4>
<p>Routing tables are formed based on the bus-to-bus endpoint 
information included in the AttachSession method call. When 
an AllJoyn router receives an AttachSession call, it can be 
from an app trying to form a new session or from a new member 
being added to an existing session. </p>
<ul><li>AttachSession for a new session: In this case, the AllJoyn 
router sends an Accept session to the app. (Currently, the 
single-hop use case is captured.)  If the session is accepted, 
it creates a new sessionId. It then adds an entry for that 
sessionId in the routing table with the two participants 
as destinations and bus-to-bus endpoint received in the AttachSession 
as next hop for the remote app endpoint.</li>
<li>AttachSession from an added member: In this case, the session 
is a multi-point session and the AllJoyn router already has an 
entry for the associated sessionId in the routing table. 
The member from where the AttachSession is received gets added 
as a new destination with the bus-to-bus endpoint in the 
AttachSession as next hop.</li>
</ul><h4 id="routing-logic">Routing logic</h4>
<p>As described above, the sessionId from the message (if present) 
is used first to find a matching sessionId entry in the routing 
table. Next, the destination field (if present) is used to find 
a matching destination entry to perform the routing. </p>
<p>The following sections capture the routing logic for different use cases.</p>
<h5 id="routing-based-on-sessionid-and-destination-field">Routing based on sessionId and destination field</h5>
<p>If an app-directed message has a non-zero sessionId as well 
as destination fields, the AllJoyn router first finds that 
sessionId entry in the routing table and then finds the 
destination entry within that sessionId for the message destination. </p>
<ul><li>If the destination was a remote endpoint, then the message gets 
sent to the bus-to-bus endpoint specified for that destination in 
the routing table. </li>
<li>If the destination is locally attached to the AllJoyn router, 
the message gets directly sent over the local bus connection to 
that destination.</li>
</ul><h5 id="routing-based-on-sessionid-field-only">Routing based on sessionId field only</h5>
<p>If an app-directed message only has a sessionId but no destination 
field, the message gets forwarded to all the destination endpoints 
in that session. The AllJoyn router finds the matching sessionId 
entry in the routing table and send the message to all the destinations 
listed for that session, except the one which sent the message. </p>
<ul><li>For remote app endpoints in the session, the message gets 
forwarded to associated bus-to-bus endpoint from the routing table. </li>
<li>For locally attached app endpoints in the session, the AllJoyn 
router directly forwards message to those app endpoints over 
the local bus connection. </li>
</ul><h5 id="routing-for-sessionid-0">Routing for sessionId=0</h5>
<p>An app-directed message can specify a sessionId=0 or, if no 
sessionId field is included, the AllJoyn router assumes sessionId 
to be 0. The sessionId field value can be zero for any message type. 
For METHOD_CALL, METHOD_RETURN and ERROR messages, the only 
requirement is that the destination field must be specified.  </p>
<p>For messages with sessionId=0 (or no specified sessionId), 
if a destination field is specified, the AllJoyn router selects 
any available route from the routing table (from any of the 
session entry containing that destination) and forwards the 
message over the bus-to-bus endpoint for that route.</p>
<p>For SIGNAL messages with sessionId=0 (or no specified sessionId), 
the destination field does not need to be present. In this case, 
the AllJoyn router looks at the GLOBAL_BROADCAST flag in the message 
to determine how that SIGNAL message should be routed per logic below: </p>
<ul><li>GLOBAL_BROADCAST Flag set: The SIGNAL message should be globally 
broadcast to all connected endpoints over any session. The Destination 
field is not looked at when routing such a signal message. The AllJoyn 
router sends this message to all destination endpoints from the 
routing table across all sessionIds. </li>
<li>For remote destinations, the SIGNAL message gets forwarded to 
the associated bus-to-bus endpoint. </li>
<li>For locally connected destination, the message gets forwarded 
directly to the app endpoint over local bus connection.</li>
<li>GLOBAL_BROADCAST Flag not set: The SIGNAL message should be 
sent over all the locally attached app endpoints. The AllJoyn 
router forwards the message to all of the locally connected 
app endpoint over local bus connection.</li>
</ul>  </div>
  </div>

  
  
</article>
              </div>
                                   
          </section>

          
        </div>
      </div>


      
    </div>
  </div>
</div>
<div id="sticky-footer">
  
      <footer id="footer" class="clearfix" role="contentinfo">
        <div class="region region-footer"><div class="region-inner clearfix"><nav id="block-system-user-menu" class="block block-system block-menu"  role="navigation"><div class="block-inner clearfix">        <div class="block-content content"><ul class="menu clearfix"><li class="first menu-item-537"><a href="/user/register" title="">Register</a></li><li class="last menu-item-536"><a href="/user/login" title="">Log In</a></li></ul></div></div></nav></div></div>    </footer>
  
  <div id="lfcollabprojects-footer">
    <div class="gray-diagonal">
      <div class="footer-inner">
        <p>&copy; 2017 AllSeen Alliance, Inc. All Rights Reserved.</p>
        <p>The Linux Foundation® is a registered trademark of The Linux Foundation. AllSeen, Designed for AllSeen and AllSeen Alliance are trademarks of the AllSeen Alliance, Inc. AllJoyn® is a registered trademark of AllSeen Alliance, Inc.</p>
        <p>Linux is a registered <a href="http://www.linuxfoundation.org/programs/legal/trademark" title="Linux Mark Institute">trademark</a> of Linus Torvalds.</p>
        <p>Please see our <a href="/brand-guidelines">brand guidelines</a>, <a href="/trademarks">trademark guidelines</a>, <a href="/about/governance/ip-policy">IP policy</a>, <a href="/terms">terms of use</a>, <a href="/license">license</a>, and <a href="/privacy">privacy policy</a>.</p>
      </div>
    </div>
    <div id="body-bottom">
      </div>
</body>
</html>
